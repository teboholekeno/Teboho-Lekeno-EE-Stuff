%##########################################################################
%#######################PROJECT PARAMETERS#################################
%##########################################################################

m = 0.250;             %%%% mass of the bar
l = 0.6;               %%%% length of the bar
R = 0.1;               %%%% motor losses
V = 5;                 %%%% supply voltage
B = 0.5;                %%%% magnetic field
B2 = 0.5;
B3 = 0.5;
b = 0.05;             %%%% bar-to rail coefficient of frinction

%##########################################################################
%                 DC Motor Speed: System Modeling
%##########################################################################

%***********************TRANSFER FUNCTION**********************************
s = tf('s');
H_motor = (l*B)/(R*m*s + B*B*l*l + R*b);


%***********************STATE SPACE****************************************
A = [-(B*B*l*l + R*b)/(m*R)]
B = [1]
C = [(l*B)/(R*m)]
D = [0]

motor_ss = ss(H_motor)

%##########################################################################
%                 DC Motor Speed: System Analysis
%##########################################################################

%***********************OPEN-LOOP RESPONSE*********************************
 linearSystemAnalyzer('step', H_motor, 0:0.05:2.5);

